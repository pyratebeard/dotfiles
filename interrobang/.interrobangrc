# ░▀█▀░█▀█░▀█▀░█▀▀░█▀▄░█▀▄░█▀█░█▀▄░█▀█░█▀█░█▀▀░░
# ░░█░░█░█░░█░░█▀▀░█▀▄░█▀▄░█░█░█▀▄░█▀█░█░█░█░█░░
# ░▀▀▀░▀░▀░░▀░░▀▀▀░▀░▀░▀░▀░▀▀▀░▀▀░░▀░▀░▀░▀░▀▀▀░░

## BASIC CONFIGURATION

#set font      = fixed
set font      = -misc-tamzen-medium-r-normal-*-15-*-*-*-*-*-*-*
set geometry  = 1000x30+30+30
# colors 0=fg 1=bg 2=unmatch_fg 3=unmatch_bg 4=match_fg 5=match_bg
set colors	  = #baba9e #2b2b2d #3d3a3b #131313 #bbbbbb #753747
set border    = 6px #3d3a3b
set bangchar  = !
set run_hook  = %s || (notify-send "drak: command not found";interrobang)
#set autocomp  = 1
set list      = true
set last      = true
set margin    = -80
set shell     = /usr/bin/zsh
set flags     = -ic


## COMMON BANGS AND COMPLETITON OPTIONS

bang term     = urxvtc -hold -e %s
bang web      = qutebrowser %s
bang pdf      = zathura "%s"
bang vid      = mpv "%s"
bang man      = urxvtc -e man %s
bang ddg      = qutebrowser "https://duckduckgo.com/?q=%s"
bang calc     = notify-send "$(echo '%s' | bc -l)"
bang ba       = urxvtc -e buku -a %s
bang bt       = urxvtc -hold --e buku --np -t %s
bang bo       = urxvtc -e buku -o %s
bang mpv      = urxvtc -e mpv "%s"
bang todo     = urxvtc -hold -e watch todo
bang ?        = echo "interrobang ignored \"%s\""
bang quit     = case "%s" in shutdown) sudo systemctl poweroff ;; reboot) sudo systemctl reboot ;; logout) killall xinit ;; cancel) exit ;; esac
bang uh       = urxvtc -e $(hidden -c | grep -i "%s" | awk -F: '{print $NF}' | tr -d "'")

tab default   = percontation "%s" %s | sort -u
tab calc      = str="%s%s"; echo "!calc $(echo ${str#\!calc} | bc -l)"
tab ?         = ignore="%s%s"; awk '/^bang/ {print "!"$2" ";}' ~/.interrobangrc
tab quit      = echo -e "cancel\nshutdown\nreboot\nlogout" | grep "^%s%s"
tab uh        = for i in $(hidden | awk '{print $NF}' | tr '[:upper:]' '[:lower:]') ; do echo "!uh $i" ; done


## EXAMPLES OF COMPLEX COMPLETION OR SCRIPTING

#####
## percontation can find .desktop files:
##   path: (default) show binaries in $PATH
##   desktop: list desktop files that match
##   desktop+: same as above, plus substring matching with comments
##  NOTE: see the desktop bang definition below
## compgen uses bash's default completion
#tab default   = percontation desktop path "%s" %s | sort -u
#tab default   = percontation desktop+ path "%s" %s | sort -u
#tab default   = compgen -P "%s" -cf %s

#####
## Example logout tool:
##   uncomment the following bang and tab lines
#bang logout   = case "%s" in shutdown) sudo systemctl poweroff ;; sleep) sudo systemctl suspend ;; reboot) sudo systemctl reboot ;; logout) killall xinit ;; cancel) exit ;; esac

#tab logout    = echo -e "cancel\nshutdown\nsleep\nreboot\nlogout" | grep "^%s%s"

#####
## desktop bangs
##   The first version ignores any parameters to the desktop file and
##     just executes the associated binary
##   The second version passes parameters and parses the desktop file
##     properly, but requires an external tool to do so.  This tool
##     is not included in the interrobang package.
#bang desktop  = ARG="%s"; FILE=$(find /usr/share/applications/ -name ${ARG%% *}.desktop | head -1); $(awk '/^Exec=/ {sub(/Exec=/,"",$1); print $1;}' $FILE)

#bang desktop  = ARG="%s"; FILE=$(find /usr/share/applications/ -name ${ARG%% *}.desktop | head -1); PARAM=${ARG#* }; desktop-exec $FILE $PARAM

