#!/bin/sh

[ $# -eq 0 ] && exit 1

tvdir="/media/tv"
series="${tvdir}/$1"
repeat="$2"

grep ${tvdir} /proc/mounts >/dev/null || exit 1
[ -d ${series} ] || exit 1

for num in $(seq 1 ${repeat}) ; do
	mpv $(find ${series} -type f -exec file -N -i -- {} + | sed -n 's!: video/[^:]*$!!p' | shuf -n 1)
done
