#!/bin/sh

IFS=$'\n'
array=($(xwininfo | grep -E "Absolute upper-left X|Absolute upper-left Y|Width|Height" | awk -F: '{print $2}' | tr -d ' '))

pos_x=$(( array[0] + 10 ))
pos_y=$(( array[1] + 10 ))
width=${array[2]}
height=${array[3]}

ffmpeg -f x11grab -framerate 25 \
	-video_size ${width}x${height} -i +${pos_x},${pos_y} \
	$HOME/lib/videos/recordings/screencasts/$(date +%Y%m%d)-window-${1}.mp4
